$.fn.extend({selectmonster:function(){return this.each(function(){var $this=$(this),numberOfOptions=$(this).children('option').length;$this.addClass('s-hidden');$this.wrap('<div class="select"></div>');$this.after('<div class="styledSelect"></div>');var $styledSelect=$this.next('div.styledSelect');if($this.children('option:selected').text().length==0)
var selected=$this.children('option:selected').eq(0).text();else
var selected=$this.children('option:selected').text();var selected=selected.replace(/a@/i,"<strike>");var selected=selected.replace(/@a/i,"</strike>");$styledSelect.html(selected);var $list=$('<ul />',{'class':'options'}).insertAfter($styledSelect);for(var i=0;i<numberOfOptions;i++){var txt=$this.children('option').eq(i).text().replace(/a@/i,"<strike>");var txt=txt.replace(/@a/i,"</strike>");$('<li />',{html:txt,rel:$this.children('option').eq(i).val()}).appendTo($list);}
var $listItems=$list.children('li');$styledSelect.click(function(e){e.stopPropagation();$('div.styledSelect.active').each(function(){$(this).removeClass('active').next('ul.options').hide();});$(this).toggleClass('active').next('ul.options').toggle();});$listItems.click(function(e){e.stopPropagation();$styledSelect.html($(this).html()).removeClass('active');$this.val($(this).attr('rel'));$list.hide();var choosen=$this.val();$this.val(choosen).trigger('change');});$(document).click(function(){$styledSelect.removeClass('active');$list.hide();});});}});